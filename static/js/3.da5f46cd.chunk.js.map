{"version":3,"sources":["../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","../node_modules/framer-motion/dist/es/utils/use-force-update.js","components/OrderContainer.js","components/Product.js"],"names":["presenceId","getPresenceId","id","PresenceChild","_a","children","initial","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","set","allComplete","forEach","isComplete","register","delete","undefined","_","key","React","size","PresenceContext","Provider","value","Map","getChildKey","child","AnimatePresence","_b","exitBeforeEnter","_c","forceRender","unloadingRef","useRef","__read","useState","forcedRenderCount","setForcedRenderCount","useUnmountEffect","current","useCallback","useForceUpdate","layoutContext","useContext","SharedLayoutContext","isSharedLayout","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","push","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","map","childrenToRender","__spreadArray","presentKeys","targetKeys","numPresent","length","i","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement","OrderContainer","setNewOrderAlert","setTotalPrice","product","orderUID","productTotalQuantity","setOrderUID","userInfos","order","setOrder","detailsAreShown","setDetailsAreShown","setContainerIsShown","containerIsShown","message","useEffect","poids_de_la_piece","setlocalQuantity","console","log","username","localQuantity","handleSubmit","e","preventDefault","price","prix_au_kilo","addProductToOrder","setFirestoreProductNewQuantity","p","handleCancel","style","zIndex","className","width","background","display","flexDirection","justifyContent","color","margin","name","onClick","alt","cursor","src","img_url","type_de_vente","paddingBottom","minimum","padding","fontSize","onSubmit","type","min","max","total_quantity","step","label","textAlign","onChange","target","height","bluehook","border","borderColor","Product","userUID","setFontSize","setFontSizes","pointerEvents","quantity","backgroundColor","position","top","filter","motion","div","left","transform","opacity","animate","exit","right"],"mappings":"qNAKIA,EAAa,EACjB,SAASC,IACL,IAAIC,EAAKF,EAET,OADAA,IACOE,EAEX,IAAIC,EAAgB,SAAUC,GAC1B,IAAIC,EAAWD,EAAGC,SAAUC,EAAUF,EAAGE,QAASC,EAAYH,EAAGG,UAAWC,EAAiBJ,EAAGI,eAAgBC,EAASL,EAAGK,OAAQC,EAAwBN,EAAGM,sBAC3JC,EAAmBC,YAAYC,GAC/BX,EAAKU,YAAYX,GACjBa,EAAUC,mBAAQ,WAAc,MAAQ,CACxCb,GAAIA,EACJI,QAASA,EACTC,UAAWA,EACXE,OAAQA,EACRD,eAAgB,SAAUQ,GACtBL,EAAiBM,IAAID,GAAS,GAC9B,IAAIE,GAAc,EAClBP,EAAiBQ,SAAQ,SAAUC,GAC1BA,IACDF,GAAc,MAEtBA,IAAmC,OAAnBV,QAA8C,IAAnBA,GAAqCA,MAEpFa,SAAU,SAAUL,GAEhB,OADAL,EAAiBM,IAAID,GAAS,GACvB,WAAc,OAAOL,EAAiBW,OAAON,QAQ5DN,OAAwBa,EAAY,CAAChB,IAWrC,OAVAQ,mBAAQ,WACJJ,EAAiBQ,SAAQ,SAAUK,EAAGC,GAAO,OAAOd,EAAiBM,IAAIQ,GAAK,QAC/E,CAAClB,IAKJmB,aAAgB,YACXnB,IAAcI,EAAiBgB,OAA4B,OAAnBnB,QAA8C,IAAnBA,GAAqCA,OAC1G,CAACD,IACImB,gBAAoBE,IAAgBC,SAAU,CAAEC,MAAOhB,GAAWT,IAE9E,SAASQ,IACL,OAAO,IAAIkB,I,YC9Cf,SAASC,EAAYC,GACjB,OAAOA,EAAMR,KAAO,GAsFxB,IAAIS,EAAkB,SAAU9B,GAC5B,IAAIC,EAAWD,EAAGC,SAAUI,EAASL,EAAGK,OAAQ0B,EAAK/B,EAAGE,QAASA,OAAiB,IAAP6B,GAAuBA,EAAI3B,EAAiBJ,EAAGI,eAAgB4B,EAAkBhC,EAAGgC,gBAAiBC,EAAKjC,EAAGM,sBAAuBA,OAA+B,IAAP2B,GAAuBA,EAG1PC,EC9FR,WACI,IAAIC,EAAeC,kBAAO,GACtBpC,EAAKqC,YAAOC,mBAAS,GAAI,GAAIC,EAAoBvC,EAAG,GAAIwC,EAAuBxC,EAAG,GAEtF,OADAyC,aAAiB,WAAc,OAAQN,EAAaO,SAAU,KACvDC,uBAAY,YACdR,EAAaO,SAAWF,EAAqBD,EAAoB,KACnE,CAACA,IDwFcK,GACdC,EAAgBC,qBAAWC,KAC3BC,YAAeH,KACfX,EAAcW,EAAcI,aAEhC,IAAIC,EAAkBd,kBAAO,GAEzBe,EAlFR,SAAsBlD,GAClB,IAAImD,EAAW,GAMf,OAJAC,WAAStC,QAAQd,GAAU,SAAU4B,GAC7ByB,yBAAezB,IACfuB,EAASG,KAAK1B,MAEfuB,EA2EgBI,CAAavD,GAGhCwD,EAAkBrB,iBAAOe,GAEzBO,EAActB,iBAAO,IAAIT,KACxBe,QAEDiB,EAAUvB,iBAAO,IAAIwB,KAAOlB,QAIhC,GA3GJ,SAA2BzC,EAAUyD,GAEjCzD,EAASc,SAAQ,SAAUc,GACvB,IAAIR,EAAMO,EAAYC,GAOtB6B,EAAY7C,IAAIQ,EAAKQ,MA8FzBgC,CAAkBV,EAAkBO,GAGhCR,EAAgBR,QAEhB,OADAQ,EAAgBR,SAAU,EAClBpB,gBAAoBA,WAAgB,KAAM6B,EAAiBW,KAAI,SAAUjC,GAAS,OAAQP,gBAAoBvB,EAAe,CAAEsB,IAAKO,EAAYC,GAAQ1B,WAAW,EAAMD,UAASA,QAAUiB,EAAmBb,sBAAuBA,GAAyBuB,OAU3Q,IAPA,IAAIkC,EAAmBC,YAAc,GAAI3B,YAAOc,IAG5Cc,EAAcR,EAAgBf,QAAQoB,IAAIlC,GAC1CsC,EAAaf,EAAiBW,IAAIlC,GAElCuC,EAAaF,EAAYG,OACpBC,EAAI,EAAGA,EAAIF,EAAYE,IAAK,CACjC,IAAIhD,EAAM4C,EAAYI,IACW,IAA7BH,EAAWI,QAAQjD,GACnBsC,EAAQY,IAAIlD,GAIZsC,EAAQzC,OAAOG,GA6CvB,OAxCIW,GAAmB2B,EAAQpC,OAC3BwC,EAAmB,IAIvBJ,EAAQ5C,SAAQ,SAAUM,GAEtB,IAAiC,IAA7B6C,EAAWI,QAAQjD,GAAvB,CAEA,IAAIQ,EAAQ6B,EAAYc,IAAInD,GAC5B,GAAKQ,EAAL,CAEA,IAAI4C,EAAiBR,EAAYK,QAAQjD,GAczC0C,EAAiBW,OAAOD,EAAgB,EAAGnD,gBAAoBvB,EAAe,CAAEsB,IAAKO,EAAYC,GAAQ1B,WAAW,EAAOC,eAb9G,WACTsD,EAAYxC,OAAOG,GACnBsC,EAAQzC,OAAOG,GAEf,IAAIsD,EAAclB,EAAgBf,QAAQkC,WAAU,SAAUC,GAAgB,OAAOA,EAAaxD,MAAQA,KAC1GoC,EAAgBf,QAAQgC,OAAOC,EAAa,GAEvChB,EAAQpC,OACTkC,EAAgBf,QAAUS,EAC1BjB,IACA9B,GAAkBA,MAGyHC,OAAQA,EAAQC,sBAAuBA,GAAyBuB,SAIvNkC,EAAmBA,EAAiBD,KAAI,SAAUjC,GAC9C,IAAIR,EAAMQ,EAAMR,IAChB,OAAOsC,EAAQmB,IAAIzD,GAAQQ,EAAUP,gBAAoBvB,EAAe,CAAEsB,IAAKO,EAAYC,GAAQ1B,WAAW,EAAMG,sBAAuBA,GAAyBuB,MAExK4B,EAAgBf,QAAUqB,EAMlBzC,gBAAoBA,WAAgB,KAAMqC,EAAQpC,KACpDwC,EACAA,EAAiBD,KAAI,SAAUjC,GAAS,OAAOkD,uBAAalD,Q,uCE5DvDmD,EArHM,SAAC,GAcjB,IAbHC,EAaE,EAbFA,iBACAC,EAYE,EAZFA,cACAC,EAWE,EAXFA,QAGAC,GAQE,EAVFC,qBAUE,EATFC,YASE,EARFF,UAGAG,GAKE,EAPFC,MAOE,EANFC,SAME,EALFF,WACAG,EAIE,EAJFA,gBACAC,EAGE,EAHFA,mBAEAC,GACE,EAFFC,iBAEE,EADFD,qBACE,EACyBtD,mBAAS,IADlC,mBACKwD,EADL,UAEFC,qBAAU,WACLZ,EAAQa,kBAAkB,GAC3BC,EAAiBd,EAAQa,qBAE3B,CAACb,IACHe,QAAQC,IAAIf,GACZc,QAAQC,IAAIZ,EAAUa,UARpB,MASwC9D,mBAAS,KATjD,mBASK+D,EATL,KASoBJ,EATpB,KAWIK,EAAe,SAAAC,GACnBL,QAAQC,IAAIE,GACZE,EAAEC,iBACA,IAAIC,EAAMtB,EAAQuB,aAAa,IAAKL,EACpCM,YAAkBvB,EAAUD,EAAQI,EAAUa,SAASb,EAAUzF,GAAG2G,EAAMJ,GAC1EO,YAA+BzB,EAAQrF,GAAIuG,EAAe,SAC1DV,GAAmB,GACnBC,GAAoB,GACpBX,GAAiB,SAAA4B,GAAC,OAAEA,EAAE,KACtB3B,GAAc,SAAA2B,GAAC,OAAEA,EAAEJ,MAGjBK,EAAe,WACnBnB,GAAmB,GACnBC,GAAoB,GACpBK,EAAiB,IAInB,OACE,sBACEc,MAAO,CAACC,OAAO,KACfC,UAAS,4BACPvB,EAAkB,kCAA+BvE,GAHrD,UAME,sBACE8F,UAAU,iBACVF,MAAO,CACLG,MAAO,OACPC,WAAW,OACXC,QAAS,OACTC,cAAe,MACfC,eAAgB,iBAPpB,UAUE,oBAAIP,MAAO,CAAEQ,MAAO,QAASC,OAAO,aAApC,SAAoDrC,EAAQsC,OAC5D,qBAAKR,UAAU,UAAUS,QAASZ,EAAlC,kBAIF,sBAAKC,MAAO,CAACQ,MAAM,SAAnB,UACE,qBAAKN,UAAU,gBAAf,SACE,qBACEU,IAAG,iBAAYxC,EAAQsC,MACvBV,MAAO,CAAEa,OAAQ,WACjBC,IAAK1C,EAAQ2C,QACbb,UAAU,aAGhB,+BACA,gDACiB9B,EAAQuB,aADzB,SAC6C,UAGpB,aAAxBvB,EAAQ4C,eAA4B,qBAAIhB,MAAO,CAACiB,cAAc,QAA1B,kCAChB7C,EAAQ8C,QADQ,aAKrC,sBAAKhB,UAAU,yBAAf,UACyB,aAAxB9B,EAAQ4C,eAA6B,qCACtC,uBAAOhB,MAAO,CAACmB,QAAQ,OAAOC,SAAS,GAAIZ,MAAM,SAAjD,kDAA8F,sBAAMR,MAAO,CAACQ,MAAM,MAAMW,QAAQpC,GAAS,EAAEqB,WAAW,SAAxD,SAAmErB,IAC/J,uBAAMsC,SAAU9B,EAAhB,UACD,uBACG+B,KAAK,SAASC,IAAKnD,EAAQ8C,QAASM,IAAKpD,EAAQqD,eAAgBC,KAAK,MACpEC,MAAM,uCACN3B,MAAO,CAAEoB,SAAU,GAAIQ,UAAU,SACjC1B,UAAU,gBACVvF,MAAO2E,EACPuC,SAAU,SAAArC,GACRN,EAAiBM,EAAEsC,OAAOnH,UAG9B,wBAAQuF,UAAU,eAAeoB,KAAK,SAAtC,SACE,qBAAKtB,MAAO,CAAE+B,OAAQ,SAAU5B,MAAO,UAAYW,IAAKkB,QAE1D,wBAAQ9B,UAAU,eAAeF,MAAO,CAACQ,MAAM,SAAUG,QAASZ,EAAlE,2BAIuB,eAAxB3B,EAAQ4C,eAA8B,qCAAE,oBAAGhB,MAAO,CAACG,MAAM,OAAQK,MAAM,QAASY,SAAS,GAAIQ,UAAU,UAA/D,mCAA8FxD,EAAQa,qBAC/I,sBAAKiB,UAAU,eAAeF,MAAO,CAACa,OAAO,UAAUT,WAAW,cAAe6B,OAAO,EAAGC,YAAY,cAAe/B,MAAM,OAAOyB,UAAU,UAAWjB,QAASpB,EAAjK,UACE,qBAAKS,MAAO,CAAE+B,OAAQ,SAAU5B,MAAO,UAAYW,IAAKkB,MACxD,mBAAGhC,MAAO,CAACG,MAAM,OAAQK,MAAM,QAASY,SAAS,GAAIQ,UAAU,UAA/D,oCC7GGO,EAAU,SAAC,GAYP,IAXfjE,EAWc,EAXdA,iBAGAS,GAQc,EAVdU,SAUc,EATd+C,QASc,EARdzD,iBACAC,EAOc,EAPdA,mBACAT,EAMc,EANdA,cACAK,EAKc,EALdA,UACAC,EAIc,EAJdA,MACAC,EAGc,EAHdA,SACAL,EAEc,EAFdA,SACAE,EACc,EADdA,YACAH,EAAc,EAAdA,QAAc,EAEkB7C,mBAAS,MAF3B,mBAEP6F,EAFO,KAEGiB,EAFH,OAGgC9G,oBAAS,GAHzC,mBAGPuD,EAHO,KAGWD,EAHX,KASd,IAAMyD,EAAe1G,uBAAY,WAC3BwC,EAAQsC,OACNtC,EAAQsC,KAAKrD,OAAS,GACxBgF,EAAY,IAAMjE,EAAQsC,KAAKrD,QAE/BgF,EAAY,OAGf,CAACjE,EAAQsC,OAOZ,OAJA1B,oBAAUsD,EAAc,CAAClE,EAAQsC,OAK/B,gCACE,sBACEC,QAvBN,WACE/B,GAAoBD,GACpBE,GAAqBC,IAsBjBoB,UAAU,kBACVF,MAAO,CACLC,OAAO,EACPsC,cAAcnE,EAAQoE,SAAS,EAAE,OAAO,OACxCC,gBAAiBrE,EAAQoE,SAAS,EAAE,QAAQ,YAC5CP,OAA+B,eAAxB7D,EAAQ4C,cAA6B,yBAAyB,qBAPzE,UAUC,sBAAKd,UAAU,gBAAf,UACE,qBAAKF,MAAO,CACVK,QAAQ,QACRqC,SAAS,WACTC,IAAI,GAHN,SAGmC,eAAxBvE,EAAQ4C,cAA6B,oBAAIhB,MAAO,CAACI,WAAW,YAAvB,2BAAoD,oBAAIJ,MAAO,CAACI,WAAW,WAAvB,wBACnG,qBACEQ,IAAG,iBAAYxC,EAAQsC,MACvBV,MAAO,CAAEa,OAAQ,UAAW+B,OAAOxE,EAAQoE,SAAS,EAAE,OAAO,mBAC7D1B,IAAK1C,EAAQ2C,QACbb,UAAWvB,EAAgB,wBAAwB,cAGvD,oBACEqB,MAAO,CAAEoB,SAAUA,GACnBlB,UAAU,OAFZ,SAIG9B,EAAQsC,OAEX,qBACEV,MAAO,CAAEoB,SAAUA,GACnBlB,UAAU,OAFZ,UAIG9B,EAAQuB,aAJX,eAMwB,eAAxBvB,EAAQ4C,cAA6B,qBACnChB,MAAO,CAAEoB,SAAUA,GACnBlB,UAAU,OAFyB,UAInC9B,EAAQsC,KAJ2B,OAIjBtC,EAAQa,kBAAkB,IAJT,QAK/B,qBACJe,MAAO,CAAEoB,SAAUA,GACnBlB,UAAU,OAFN,UAIH9B,EAAQoE,SAAS,IAJd,wBAOP1D,GACC,cAAC,EAAD,UACE,cAAC+D,EAAA,EAAOC,IAAR,CAEE3J,QAAS,CACP4I,OAAQ,EACR5B,MAAO,EACPuC,SAAU,WACVC,IAAK,EACLI,KAAM,EACNC,UAAW,iBACXC,QAAQ,GAEVC,QAAS,CACPnB,OAAQ,OACR5B,MAAO,OACPuC,SAAU,WACVC,IAAK,MACLI,KAAM,MACNC,UAAW,uBACXC,QAAQ,GAEVE,KAAM,CACJpB,OAAQ,EACR5B,MAAO,EACPuC,SAAU,WACVC,IAAK,EACLS,MAAO,EACPJ,UAAW,iBACXC,QAAQ,GAEVjD,MAAO,CAACC,OAAO,KA7BjB,SA+BE,cAAC,EAAD,CACA/B,iBAAkBA,EAChBE,QAASA,EACTE,qBAAsBF,EAAQoE,SAC9B/D,MAAOA,EAAOC,SAAUA,EAAUL,SAAUA,EAAUE,YAAaA,EACnEC,UAAWA,EACXG,gBAAiBA,EACjBC,mBAAoBA,EACpBC,oBAAqBA,EACrBC,iBAAkBA,EAClBX,cAAeA,KAxCZC,EAAQrF","file":"static/js/3.da5f46cd.chunk.js","sourcesContent":["import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n","import React, { useRef, useEffect, useState } from \"react\";\n\nimport bluehook from \"../img/bluehook.svg\";\nimport { setFirestoreProductNewQuantity, addProductToOrder } from \"../helpersFunctions/set\";\nimport \"../css/orderContainer.css\"\n\nconst OrderContainer=({\n  setNewOrderAlert,\n  setTotalPrice,\n  product,\n  productTotalQuantity,\n  setOrderUID,\n  orderUID,\n  order,\n  setOrder,\n  userInfos,\n  detailsAreShown,\n  setDetailsAreShown,\n  containerIsShown,\n  setContainerIsShown\n})=>{\n  const [message,setMessage]=useState('')\n  useEffect(()=>{\n    if(product.poids_de_la_piece>0){\n      setlocalQuantity(product.poids_de_la_piece)\n    }\n  },[product])\n  console.log(orderUID)\n  console.log(userInfos.username)\n  const [localQuantity, setlocalQuantity] = useState(500);\n  /***Handle Click and Submit***/\n  const handleSubmit = e => {\n    console.log(localQuantity);\n    e.preventDefault();\n      let price=product.prix_au_kilo/1000*localQuantity;\n      addProductToOrder(orderUID, product,userInfos.username,userInfos.id,price,localQuantity);\n      setFirestoreProductNewQuantity(product.id, localQuantity, 'minus');\n      setDetailsAreShown(false);\n      setContainerIsShown(false);\n      setNewOrderAlert(p=>p+1);\n      setTotalPrice(p=>p+price);\n  };\n  \n  const handleCancel = () => {\n    setDetailsAreShown(false);\n    setContainerIsShown(false);\n    setlocalQuantity(0);\n  };\n  \n\n  return (\n    <div\n      style={{zIndex:999}}\n      className={`product-container ${\n        detailsAreShown ? \"product-container-expanded\" : undefined\n        }`}\n    >\n      <div\n        className=\"name-container\"\n        style={{\n          width: \"100%\",\n          background:\"navy\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <h3 style={{ color: \"white\", margin:\"16px 32px\" }}>{product.name}</h3>\n        <div className=\"close-x\" onClick={handleCancel}>\n          X\n        </div>\n      </div>\n      <div style={{color:\"white\"}}>\n        <div className=\"img-container\">\n          <img\n            alt={`avatar-${product.name}`}\n            style={{ cursor: \"pointer\" }}\n            src={product.img_url}\n            className='avatar'\n          />\n        </div>\n      <ul>\n      <li>\n        Prix au kilo: {product.prix_au_kilo}&euro;{\"    \"}\n      </li>\n      \n      {product.type_de_vente==='au_poids'&&<li style={{paddingBottom:\"16px\"}}>\n        Qantité minimum : {product.minimum}g\n      </li>}</ul>\n      \n      </div>\n      <div className=\"input-button-container\">\n      {product.type_de_vente==='au_poids'&& <>\n      <label style={{padding:\"16px\",fontSize:16, color:\"white\"}}>Quantité désirée en grammes</label><span style={{color:\"red\",padding:message&&8,background:\"white\"}}>{message}</span>\n        <form onSubmit={handleSubmit}> \n       <input\n          type=\"number\" min={product.minimum} max={product.total_quantity} step=\"200\"\n            label=\"Quantité désirée en grammes\"\n            style={{ fontSize: 18, textAlign:\"right\" }}\n            className=\"product-input\"\n            value={localQuantity}\n            onChange={e => {\n              setlocalQuantity(e.target.value);\n            }}\n          />\n          <button className=\"input-button\" type=\"submit\">\n            <img style={{ height: \"2.5rem\", width: \"2.5rem\" }} src={bluehook} />\n          </button>\n          <button className=\"input-button\" style={{color:\"white\"}} onClick={handleCancel}>\n            Annuler\n          </button>\n        </form></>}\n        {product.type_de_vente==='a_la_piece'&&<><p style={{width:\"100%\", color:\"white\", fontSize:16, textAlign:\"center\"}}>Poids de la Pièce: {product.poids_de_la_piece}</p>\n        <div className=\"input-button\" style={{cursor:'pointer',background:'transparent', border:0, borderColor:'transparent', width:'100%',textAlign:'center'}} onClick={handleSubmit}>\n          <img style={{ height: \"2.5rem\", width: \"2.5rem\" }} src={bluehook} />\n          <p style={{width:\"100%\", color:\"white\", fontSize:16, textAlign:\"center\"}}>Confirmer</p>\n         \n          </div></>}\n      </div>\n    </div>\n  );\n}\n\nexport default OrderContainer;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport \"../css/orderContainer.css\"\nimport OrderContainer from \"./OrderContainer\"\nimport {AddProductToOrder} from \"../helpersFunctions/set\"\n\nexport const Product = ({ \n  setNewOrderAlert,\n  username,\n  userUID,\n  detailsAreShown, \n  setDetailsAreShown, \n  setTotalPrice, \n  userInfos, \n  order, \n  setOrder, \n  orderUID, \n  setOrderUID, \n  product }) => {\n\n  const [fontSize, setFontSize] = useState(null);\n  const [containerIsShown, setContainerIsShown]=useState(false);\n  function handleClick() {\n    setDetailsAreShown(!detailsAreShown);\n    setContainerIsShown(!containerIsShown);\n  }\n//Set the fontsize depending on name length\n  const setFontSizes = useCallback(() => {\n    if (product.name) {\n      if (product.name.length > 12) {\n        setFontSize(300 / product.name.length);\n      } else {\n        setFontSize(22);\n      }\n    }\n  }, [product.name])\n\n\n  useEffect(setFontSizes, [product.name]);\n  ////checking if some products have stayed in panier too long\n  //['taken']:{['username']:{time_last_modified:sec, quantityTaken:localQuantity,orderUID:orderUID}} }\n           \n  return (\n    <div>\n      <div\n        onClick={handleClick}\n        className=\"order-container\"\n        style={{\n          zIndex:0,\n          pointerEvents:product.quantity<1?'none':'auto',\n          backgroundColor: product.quantity>0?'white':'lightgrey',\n          border:product.type_de_vente==='a_la_piece'?'2px solid darkseagreen':'2px solid skyblue',\n        }}\n      >\n       <div className=\"img-container\">\n         <div style={{\n           display:\"block\",\n           position:'absolute', \n           top:0}}>{product.type_de_vente==='a_la_piece'?<h3 style={{background:\"honeydew\"}}>A la Pièce</h3>:<h3 style={{background:'skyblue'}}>Au Poids</h3>}</div>\n          <img\n            alt={`avatar-${product.name}`}\n            style={{ cursor: \"pointer\", filter:product.quantity>0?'none':'grayscale(100%)',}}\n            src={product.img_url}\n            className={detailsAreShown?'avatar avatar-reduced':'avatar'}\n          />\n        </div>\n        <h2\n          style={{ fontSize: fontSize }}\n          className=\"name\"\n        >\n          {product.name}\n        </h2>\n        <h2\n          style={{ fontSize: fontSize }}\n          className=\"name\"\n        >\n          {product.prix_au_kilo}&euro;/Kg\n        </h2>\n       {product.type_de_vente==='a_la_piece'?<h2\n          style={{ fontSize: fontSize }}\n          className=\"name\"\n        >\n         {product.name} de {product.poids_de_la_piece/1000}Kg\n        </h2>:<h2\n          style={{ fontSize: fontSize }}\n          className=\"name\"\n        >\n          {product.quantity/1000}Kg disponibles!\n        </h2>}\n      </div>\n      {containerIsShown && (\n        <AnimatePresence>\n          <motion.div\n            key={product.id}\n            initial={{\n              height: 0,\n              width: 0,\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n              transform: \"translate(0,0)\",\n              opacity:1\n            }}\n            animate={{\n              height: \"auto\",\n              width: \"auto\",\n              position: \"absolute\",\n              top: \"50%\",\n              left: \"50%\",\n              transform: \"translate(-50%,-50%)\",\n              opacity:1\n            }}\n            exit={{\n              height: 0,\n              width: 0,\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              transform: \"translate(0,0)\",\n              opacity:1\n            }}\n            style={{zIndex:999}}\n          >\n            <OrderContainer\n            setNewOrderAlert={setNewOrderAlert}\n              product={product}\n              productTotalQuantity={product.quantity}\n              order={order} setOrder={setOrder} orderUID={orderUID} setOrderUID={setOrderUID}\n              userInfos={userInfos}\n              detailsAreShown={detailsAreShown}\n              setDetailsAreShown={setDetailsAreShown}\n              setContainerIsShown={setContainerIsShown}\n              containerIsShown={containerIsShown}\n              setTotalPrice={setTotalPrice}\n            />\n          </motion.div>\n        </AnimatePresence>\n      )}\n    </div>\n  );\n};\n"],"sourceRoot":""}